##正则表达式能不能匹配函数声明？

答案是不能，如果证明一件事情不可能，一般是用反证法。

### 证明

因为[正则表达式和有限自动机的匹配字符串的能力是一样的，对应的是正则是正则文法][1]，所以归结为正则文法能不能匹配函数声明。（文法、自动机是形式语言中的概念）


利用正则文法的[泵引理][2]，可以证明像0<sup>n</sup>1<sup>n</sup>的字符串是无法用正则文法来表达的，此处表达意思是指无法用正则表达式来匹配像这样的字符串，可以参考[这篇文章][3]3.2节的证明。

在函数声明中有没有类似“0<sup>n</sup>1<sup>n</sup>”的字符串呢？
必须有哈，你猜对了。
比如：参数为泛型的函数。

    Set<Set<Set<Integer>>>

其中这块部分的结构和“0<sup>n</sup>1<sup>n</sup>”类似

    <Set<Set<Integer>>>
可以把"<(\w)<sup>+</sup>"定义为A，">"定义为B,就会发现其有“A<sup>n</sup>B<sup>n</sup>”的结构，可以用[文][3]3.2节类似的方法证明，这个字符串无法用正则表达式匹配。

函数声明的一个子串无法用正则匹配，因此整体也是不能用正则匹配的。

xml文件也有类似“0<sup>n</sup>1<sup>n</sup>”的结构，so，正则也搞不定xml。

### 怎么办？

如果遇到类似的需要怎么搞？上语法分析器。

预发分析器，对应的是上下文无法的文法，编程语言应该基本都是上下文无法文法。

比如java有[javaparser][4]。

最近看到[作为程序员，你在编程时吃了哪些数学的亏][5]这个问题时，想起了这档子事，总结一下。

[1]: http://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F
[2]: http://zh.wikipedia.org/wiki/%E6%B3%B5%E5%BC%95%E7%90%86
[3]: http://my.oschina.net/SnifferApache/blog/323700
[4]: https://github.com/javaparser/javaparser
[5]: http://www.zhihu.com/question/28056906
